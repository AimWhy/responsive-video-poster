<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Responsive Video Poster - Responsive poster image for the video element</title>

    <link rel="stylesheet" href="styles/site.css">
    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Cutive+Mono|Open+Sans:300,400&display=swap"> -->

    <link rel="stylesheet" href="styles/responsive-video-poster.css">
  </head>

  <body>

    <header class="header">
      <div class="container">

        <h1 class="logo-text">Responsive Video Poster</h1>

        <nav class="header-links">
          <a href="https://github.com/NigelOToole/responsive-video-poster/archive/master.zip" class="btn-demo btn-demo--white">Download</a>
          <a href="https://github.com/NigelOToole/responsive-video-poster" target="_blank" rel="noopener" class="btn-demo btn-demo--white">View on GitHub</a>
        </nav>
      </div>
    </header>


    <div class="fullwidth">
      <div class="container separator">
        <h2 class="m-0">A JavaScript plugin to use a responsive image as the poster image for a video. This is better for performance and allows for styling control of video placeholders.</h2>
        <p>The poster attribute of the video element only allows specifying one image which is not optimal for performance as a large image will need to be specified to suit all screens. This plugin uses a standard image tag(img or picture) as the poster img so a src-set can be specified. This means only the most appropriate image for the current screen will be loaded. The examples below also include more performance optimizations for loading of both native and embedded videos.</p>
        srcdoc: https://dev.to/haggen/lazy-load-embedded-youtube-videos-520g
        covverr videos: https://coverr.co/videos/lago-di-braies-y1yBShzUTZ, https://coverr.co/videos/lofoten-rocks-GPfWh8WOtG
        youtube video
      </div>
    </div>


    <div class="fullwidth">
      <div class="container separator">

        <div class="row">
          <div class="col-md-4"> 
            <h3>&lt;video&gt; and &lt;img&gt;</h3>
            <p>Poster is the first frame of the video.</p>
          </div>

          <div class="col-md-8">
            
            <div class="responsive-video-poster embed-responsive embed-responsive-16by9" id="responsive-video-poster--demo-default">
                
              <button class="video-overlay embed-responsive-item" aria-label="Play video">
                <div class="poster-btn"><span class="poster-btn-icon">▶</span></div>

                <img srcset="images/720/coverr-lago-di-braies-1571919374360.jpg 720w, images/1080/coverr-lago-di-braies-1571919374360.jpg 1080w" sizes="(min-width: 768px) 66vw, (min-width: 1200px) 728px, 100vw" src="images/1080/coverr-lago-di-braies-1571919374360.jpg" class="poster" alt="Lake Braies, Italy">
              </button>

              <video src="videos/coverr-lago-di-braies-1571919374360.mp4" preload="metadata" class="video embed-responsive-item" controls></video>

            </div>

          </div>
        </div>


      </div>
    </div>


    <div class="fullwidth">
      <div class="container separator">

        <div class="row">
          <div class="col-md-4"> 
            <h3>&lt;video&gt; and &lt;picture&gt;</h3>
            <p>Poster is the last frame of the video.</p>
          </div>

          <div class="col-md-8">
            
            <div class="responsive-video-poster embed-responsive embed-responsive-16by9" id="responsive-video-poster--demo-picture">
                
              <button class="video-overlay embed-responsive-item" aria-label="Play video">
                <div class="poster-btn"><span class="poster-btn-icon">▶</span></div>

                <picture>
                  <source srcset="images/720/coverr-lofoten-rocks-1576261169444-last-frame.webp 720w, images/1080/coverr-lofoten-rocks-1576261169444-last-frame.webp 1080w" sizes="(min-width: 768px) 66vw, (min-width: 1200px) 728px, 100vw" type="image/webp">
                  <source srcset="images/720/coverr-lofoten-rocks-1576261169444-last-frame.jpg 720w, images/1080/coverr-lofoten-rocks-1576261169444-last-frame.jpg 1080w" sizes="(min-width: 768px) 66vw, (min-width: 1200px) 728px, 100vw" type="image/jpg">
                  <img src="images/1080/coverr-lofoten-rocks-1576261169444-last-frame.jpg" class="poster" alt="Mountains in Lofoten, Norway" >
                </picture>
              </button>

              <video src="videos/coverr-lofoten-rocks-1576261169444.mp4" preload="metadata" class="video embed-responsive-item" controls></video>

            </div>

          </div>
        </div>


      </div>
    </div>




    <div class="fullwidth">
      <div class="container separator">


        <div class="row">
          <div class="col-md-4">        
            <h3>&lt;iframe&gt; and &lt;img&gt;</h3>
            <p>Poster is the middle frame of the video. The iframe includes and empty srcdoc attribute which prevents the video site from loading its scripts until the user clicks the play button. This will reduce the initial page weight but may seem laggy to users so remove if not needed.</p>
          </div>

          <div class="col-md-8">
            
            <div class="responsive-video-poster embed-responsive embed-responsive-16by9" id="responsive-video-poster--demo-iframe">
                
              <button class="video-overlay embed-responsive-item" aria-label="Play video">
                <div class="poster-btn"><span class="poster-btn-icon">▶</span></div>

                <img srcset="images/720/Drone-Grand-Tour-Tustan-Karpaty-mountains.jpg 720w, images/1080/Drone-Grand-Tour-Tustan-Karpaty-mountains.jpg 1080w" sizes="(min-width: 768px) 66vw, (min-width: 1200px) 728px, 100vw" src="images/1080/Drone-Grand-Tour-Tustan-Karpaty-mountains.jpg" class="poster" alt="Drone Grand Tour footage of the Tustan Karpaty mountains">
              </button>

              <iframe src="https://www.youtube.com/embed/FjPvaGt6Pw4" srcdoc="" class="video" title="Drone Grand Tour footage of the Tustan Karpaty mountains"></iframe>
            </div>

          </div>
        </div>


      </div>
    </div>
  


    <!-- <div class="fullwidth">
      <div class="container separator">

        <h3>Different style for poster overlay</h3>

        <div class="row">
          <div class="col-sm-8">

            <div class="responsive-video-poster embed-responsive embed-responsive-16by9">
                
                <button class="poster-overlay embed-responsive-item" aria-label="Play video">
                  <img src="images/mountain-1.jpg" class="poster poster--cover">
                </button>

              <video src="videos/coverr-lofoten-rocks-1576261169444.mp4" preload="metadata" controls class="video embed-responsive-item"></video>
            </div>

          </div>
        </div>


      </div>
    </div> -->


    <!-- <div class="fullwidth">
      <div class="container separator">
        <h3 class="">Rotate</h3>

        <div class="responsive-video-poster responsive-video-poster--3-grid responsive-video-poster--demo-rotate">

          <a href="#" class="responsive-video-poster__card">
            <img src="images/mountain-1.jpg" alt="Image" class="responsive-video-poster__img">

            <div class="responsive-video-poster__overlay responsive-video-poster__anim--enter">
              <h3 class="responsive-video-poster__title">Lorem ipsum</h3>
              <p class="responsive-video-poster__text">Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore eritatis et quasi.</p>
            </div>
          </a>

          <a href="#" class="responsive-video-poster__card">
            <img src="images/mountain-2.jpg" alt="Image" class="responsive-video-poster__img">

            <div class="responsive-video-poster__overlay responsive-video-poster__anim--enter">
              <h3 class="responsive-video-poster__title">Lorem ipsum</h3>
              <p class="responsive-video-poster__text">Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore eritatis et quasi.</p>
            </div>
          </a>

          <a href="#" class="responsive-video-poster__card">
            <img src="images/mountain-3.jpg" alt="Image" class="responsive-video-poster__img">

            <div class="responsive-video-poster__overlay responsive-video-poster__anim--enter">
              <h3 class="responsive-video-poster__title">Lorem ipsum</h3>
              <p class="responsive-video-poster__text">Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore eritatis et quasi.</p>
            </div>
          </a>

          <a href="#" class="responsive-video-poster__card">
            <img src="images/mountain-4.jpg" alt="Image" class="responsive-video-poster__img">

            <div class="responsive-video-poster__overlay responsive-video-poster__anim--enter">
              <h3 class="responsive-video-poster__title">Lorem ipsum</h3>
              <p class="responsive-video-poster__text">Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore eritatis et quasi.</p>
            </div>
          </a>

          <a href="#" class="responsive-video-poster__card">
            <img src="images/mountain-5.jpg" alt="Image" class="responsive-video-poster__img">

            <div class="responsive-video-poster__overlay responsive-video-poster__anim--enter">
              <h3 class="responsive-video-poster__title">Lorem ipsum</h3>
              <p class="responsive-video-poster__text">Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore eritatis et quasi.</p>
            </div>
          </a>

          <a href="#" class="responsive-video-poster__card">
            <img src="images/mountain-6.jpg" alt="Image" class="responsive-video-poster__img">

            <div class="responsive-video-poster__overlay responsive-video-poster__anim--enter">
              <h3 class="responsive-video-poster__title">Lorem ipsum</h3>
              <p class="responsive-video-poster__text">Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore eritatis et quasi.</p>
            </div>
          </a>

        </div>

      </div>
    </div> -->



    <div class="fullwidth">
      <div class="container separator">

        <div class="subsection">
          <h2>Installation</h2>

<pre>
<code>$ npm install responsive-video-poster --save-dev</code>
</pre>

        </div>


        <div class="subsection">
          <h2>Usage</h2>

          <h3>Import JS</h3>

          <p>The script is an ES6(ES2015) module but the compiled version is included in the build as "src/scripts/responsive-video-poster-umd.js". You can also copy "src/scripts/responsive-video-poster.js" into your own site if your build process can accommodate ES6 modules.</p>

<pre><code>import DirectionReveal from 'responsive-video-poster';

// Init with default setup
const directionRevealDemo = DirectionReveal();

// Init with all options at default setting
const directionRevealDefault = DirectionReveal({
  selector: '.responsive-video-poster',
  itemSelector: '.responsive-video-poster__card',
  animationName: 'swing',
  animationPostfixEnter: 'enter',
  animationPostfixLeave: 'leave',
  enableTouch: true,
  touchThreshold: 250
});
</code></pre>

        <h3>Options</h3>

        <div class="table-wrapper">
        <table class="table">
          <tr>
            <th>Property</th>
            <th>Default</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td><code>selector</code></td>
            <td>'.responsive-video-poster'</td>
            <td>String</td>
            <td>Container element selector.</td>
          </tr>
          <tr>
            <td><code>itemSelector</code></td>
            <td>'.responsive-video-poster__card'</td>
            <td>String</td>
            <td>Item element selector.</td>
          </tr>
          <tr>
            <td><code>animationName</code></td>
            <td>'swing'</td>
            <td>String</td>
            <td>Animation class.</td>
          </tr>
          <tr>
            <td><code>animationPostfixEnter</code></td>
            <td>'enter'</td>
            <td>String</td>
            <td>Animation CSS class postfix for enter event.</td>
          </tr>
          <tr>
            <td><code>animationPostfixLeave</code></td>
            <td>'leave'</td>
            <td>String</td>
            <td>Animation CSS class postfix for leave event.</td>
          </tr>
          <tr>
            <td><code>enableTouch</code></td>
            <td>true</td>
            <td>Boolean</td>
            <td>Adds touch event to show content on first click then follow link on the second click.</td>
          </tr>
          <tr>
            <td><code>touchThreshold</code></td>
            <td>250</td>
            <td>Number(ms)</td>
            <td>The touch length in ms to trigger the reveal, this is to prevent triggering if user is scrolling.</td>
          </tr>
        </table>
        </div>


        <h3>Import Sass</h3>

<pre><code>@import "node_modules/responsive-video-poster/src/styles/responsive-video-poster.scss";</code></pre>




<p>This demo uses the "embed-responsive" classes from Bootstrap but any similar pattern can be used to main the image and video responsive.</p>




        <h3>Markup</h3>

<pre><code>&lt;div class="responsive-video-poster"&gt;

  &lt;a href="#" class="responsive-video-poster__card"&gt;
    &lt;img src="images/image.jpg" class="responsive-video-poster__img"&gt;

    &lt;div class="responsive-video-poster__overlay responsive-video-poster__anim--enter"&gt;
      &lt;h3 class="responsive-video-poster__title"&gt;Title&lt;/h3&gt;
      &lt;p class="responsive-video-poster__text"&gt;Description text.&lt;/p&gt;
    &lt;/div&gt;
  &lt;/a&gt;

  ...

&lt;/div&gt;
</code></pre>


          <h3>Using other tags</h3>

          <p>The demos use &lt;a&gt; tags for the "responsive-video-poster__card" but &lt;div&gt; tags can be used as below, specifying the tabindex ensures keyboard navigation works as expected. They can all have a value of 0 and will follow the source order of the divs.</p>

<pre><code>&lt;div class="responsive-video-poster__card" tabindex="0"&gt;
  ...
&lt;/div&gt;
</code></pre>


          <h3>Inverted animations</h3>

          <p>Most of the animations above can be inverted so the overlay is visible by default and animates out on hover. Change the class 'responsive-video-poster__anim--enter' to 'responsive-video-poster__anim--leave' for this effect.</p>

          <p>You can also add the class 'responsive-video-poster__anim--enter' or 'responsive-video-poster__anim--leave' to the image to animate it at the same time as overlay. This effect can be seen in the Slide & Push demo.</p>

        </div>

        <div class="subsection">
          <h2>Events</h2>

          <p>A 'directionChange' event is broadcast once a user enters/leaves an item with information about the action(enter,leave) and direction(top, right, bottom, left).</p>

<pre><code>document.querySelector('#test').addEventListener('directionChange', (event) => { 
  console.log(`Action: ${event.detail.action} Direction: ${event.detail.direction}`);
});
</code></pre>
        </div>

        <div class="subsection">
          <h2>Compatibility</h2>

          <h3>Touch support</h3>

          <p>The plugin will detect touch support and reveal the hidden content on first click then follow link on the second click. This can be disabled with the option enableTouch.</p>

          <h3>Browser support</h3>

          <p>Supports all modern browsers(Firefox, Chrome and Edge) released as of January 2018. For older browsers you may need to include polyfills for <a href="https://developer.mozilla.org/en-US/docs/Web/API/NodeList/forEach" target="_blank" rel="noopener">Nodelist.forEach</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/classList" target="_blank" rel="noopener">Element.classList</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener" target="_blank" rel="noopener">Passive Event Listeners</a>.</p>
        </div>

        <div class="subsection">
          <h2>Demo site</h2>
          <p>Clone or download from Github.</p>

<pre><code>$ npm install
$ gulp serve
</code></pre>

        </div>

        <div class="subsection">
          <h3>Credits</h3>
          <p class="m-0">Inspired by a Codepen by <a href="https://codepen.io/noeldelgado/pen/pGwFx" target="_blank" rel="noopener">Noel Delgado</a>, this <a href="https://stackoverflow.com/a/3647634" target="_blank" rel="noopener">Stack overflow answer</a>, the article <a href="https://www.kirupa.com/html5/get_element_position_using_javascript.htm" target="_blank" rel="noopener">Get an Element's position using javascript</a> and <br><a href="https://unsplash.com" target="_blank" rel="noopener">images from Unsplash.</a></p>
        </div>

      </div>
    </div>


    <footer class="fullwidth fullwidth--sm footer">
      <div class="container">
        Made by Nigel O Toole <a href="http://www.purestructure.com" target="_blank" rel="noopener">pure structure</a>
      </div>
    </footer>

    <script src="scripts/main.js" type="module"></script>

  </body>
</html>
