<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Responsive Video Poster - Responsive poster image for a video</title>

    <link rel="stylesheet" href="styles/site.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Cutive+Mono|Open+Sans:300,400&display=swap">

    <link rel="stylesheet" href="styles/responsive-video-poster.css">
  </head>

  <body>

    <header class="header">
      <div class="container">

        <h1 class="logo-text">Responsive Video Poster</h1>

        <nav class="header-links">
          <a href="https://github.com/NigelOToole/responsive-video-poster/archive/master.zip" class="btn-demo btn-demo--white">Download</a>
          <a href="https://github.com/NigelOToole/responsive-video-poster" target="_blank" rel="noopener" class="btn-demo btn-demo--white">View on GitHub</a>
        </nav>
      </div>
    </header>


    <div class="fullwidth">
      <div class="container separator">
        <h2>Responsive poster image for a video, which is better for performance and gives full control of video placeholders.</h2>

        <p>
          Video elements only allow specifying one image as the poster, which is not optimal for performance. 
          This JavaScript plugin uses a standard image tag as the poster. This means standard responsive image techniques can be used to load only the most appropriate image. 
          This also gives full styling control of video placeholders.
          Performance optimizations are also included for loading of both native and embedded videos.
        </p>
        
      </div>
    </div>


    <div class="fullwidth">
      <div class="container separator">

        <div class="row">
          <div class="col-md-4"> 
            <h3>&lt;video&gt; and &lt;img&gt;</h3>
            <p>Poster is the first frame of the video.</p>
          </div>

          <div class="col-md-8">

            <div class="responsive-video-poster responsive-video-poster--16by9" id="responsive-video-poster--demo-default">
                
              <button class="video-overlay" aria-label="Play video">
                <div class="poster-btn">
                  <svg xmlns="http://www.w3.org/2000/svg" class="poster-btn-icon" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                </div>

                <img srcset="images/720/coverr-lago-di-braies-1571919374360.jpg 720w, images/1080/coverr-lago-di-braies-1571919374360.jpg 1080w" sizes="(min-width: 768px) 66vw, (min-width: 1200px) 728px, 100vw" src="images/1080/coverr-lago-di-braies-1571919374360.jpg" class="poster" alt="Lake Braies, Italy">
              </button>

              <video src="videos/coverr-lago-di-braies-1571919374360.mp4" preload="metadata" class="video" controls></video>

            </div>

          </div>
        </div>


      </div>
    </div>


    <div class="fullwidth">
      <div class="container separator">

        <div class="row">
          <div class="col-md-4"> 
            <h3>&lt;video&gt; and &lt;picture&gt;</h3>
            <p>Poster is the last frame of the video.</p>
          </div>

          <div class="col-md-8">
            
            <div class="responsive-video-poster responsive-video-poster--16by9" id="responsive-video-poster--demo-picture">
                
              <button class="video-overlay" aria-label="Play video">
                <div class="poster-btn">
                  <svg xmlns="http://www.w3.org/2000/svg" class="poster-btn-icon" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                </div>

                <picture>
                  <source srcset="images/720/coverr-lofoten-rocks-1576261169444-last-frame.webp 720w, images/1080/coverr-lofoten-rocks-1576261169444-last-frame.webp 1080w" sizes="(min-width: 768px) 66vw, (min-width: 1200px) 728px, 100vw" type="image/webp">
                  <source srcset="images/720/coverr-lofoten-rocks-1576261169444-last-frame.jpg 720w, images/1080/coverr-lofoten-rocks-1576261169444-last-frame.jpg 1080w" sizes="(min-width: 768px) 66vw, (min-width: 1200px) 728px, 100vw" type="image/jpg">
                  <img src="images/1080/coverr-lofoten-rocks-1576261169444-last-frame.jpg" class="poster" alt="Mountains in Lofoten, Norway" >
                </picture>
              </button>

              <video src="videos/coverr-lofoten-rocks-1576261169444.mp4" preload="metadata" class="video" controls></video>

            </div>

          </div>
        </div>


      </div>
    </div>




    <div class="fullwidth">
      <div class="container separator">


        <div class="row">
          <div class="col-md-4">        
            <h3>&lt;iframe&gt; and &lt;img&gt;</h3>
            <p>Poster is the middle frame of the video. The iframe includes and empty srcdoc attribute which prevents the video site from loading its scripts until the user clicks the play button. This will reduce the initial page weight but may seem laggy to users so remove if not needed.</p>
          </div>

          <div class="col-md-8">
            
            <div class="responsive-video-poster responsive-video-poster--16by9" id="responsive-video-poster--demo-iframe">
                
              <button class="video-overlay" aria-label="Play video">
                <div class="poster-btn">
                  <svg xmlns="http://www.w3.org/2000/svg" class="poster-btn-icon" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                </div>

                <img srcset="images/720/Drone-Grand-Tour-Tustan-Karpaty-mountains.jpg 720w, images/1080/Drone-Grand-Tour-Tustan-Karpaty-mountains.jpg 1080w" sizes="(min-width: 768px) 66vw, (min-width: 1200px) 728px, 100vw" src="images/1080/Drone-Grand-Tour-Tustan-Karpaty-mountains.jpg" class="poster" alt="Drone Grand Tour footage of the Tustan Karpaty mountains">
              </button>

              <iframe src="https://www.youtube.com/embed/FjPvaGt6Pw4?rel=0" srcdoc="" class="video" title="Drone Grand Tour footage of the Tustan Karpaty mountains"></iframe>
            </div>

          </div>
        </div>


      </div>
    </div>



    <div class="fullwidth">
      <div class="container separator">

        <div class="subsection">
          <h2>Installation</h2>

<pre>
<code>$ npm install responsive-video-poster --save-dev</code>
</pre>

        </div>


        <div class="subsection">
          <h2>Usage</h2>

          <h3>Import JS</h3>

          <p>The script is an ES6(ES2015) module but the compiled version is included in the build as "src/scripts/responsive-video-poster-umd.js". You can also copy "src/scripts/responsive-video-poster.js" into your own site if your build process can accommodate ES6 modules.</p>

<pre><code>import ResponsiveVideoPoster from 'responsive-video-poster.js';;

// Init with string - default setup for one instance
const responsiveVideoPosterDefault = ResponsiveVideoPoster({ selector: '#responsive-video-poster--demo-default' });


// Init by loop - this wont allow access to methods
const responsiveVideoPosterElements = document.querySelectorAll('.responsive-video-poster');   

for (const item of responsiveVideoPosterElements) {
  ResponsiveVideoPoster({ selector: item });
}


// Init with all options at default setting
const responsiveVideoPosterDefault = ResponsiveVideoPoster({
  selector: '.responsive-video-poster',
  overlaySelector: '.video-overlay',
  posterSelector: '.poster',
  videoSelector: '.video',
  animClass: 'is-anim',
  inactiveClass: 'is-inactive',
  embedPreload: 500
});
</code></pre>

        <h3>Options</h3>

        <div class="table-wrapper">
        <table class="table">
          <tr>
            <th>Property</th>
            <th>Default</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td><code>selector</code></td>
            <td>'.responsive-video-poster'</td>
            <td>String</td>
            <td>Container element selector.</td>
          </tr>
          <tr>
            <td><code>overlaySelector</code></td>
            <td>'.video-overlay'</td>
            <td>String</td>
            <td>Overlay element selector.</td>
          </tr>
          <tr>
            <td><code>posterSelector</code></td>
            <td>'.poster'</td>
            <td>String</td>
            <td>Poster element selector.</td>
          </tr>
          <tr>
            <td><code>videoSelector</code></td>
            <td>'.video'</td>
            <td>String</td>
            <td>Video element selector.</td>
          </tr>
          <tr>
            <td><code>animClass</code></td>
            <td>'is-anim'</td>
            <td>String</td>
            <td>CSS class to transition the video overlay between states.</td>
          </tr>
          <tr>
            <td><code>inactiveClass</code></td>
            <td>'is-inactive'</td>
            <td>String</td>
            <td>CSS class to hide the video overlay.</td>
          </tr>
          <tr>
            <td><code>embedPreload</code></td>
            <td>500</td>
            <td>Integer(ms)</td>
            <td>Amount of time given to preload an embedded video.</td>
          </tr>
        </table>
        </div>


        <h3>Import Sass</h3>

<pre><code>@import "node_modules/responsive-video-poster/src/styles/responsive-video-poster.scss";</code></pre>




<!-- <p>This demo uses the "embed-responsive" classes from Bootstrap but any similar pattern can be used to main the image and video responsive.</p> -->




        <h3>Markup</h3>

        <p>The demos makes use of the padding technique to maintain aspect ratio. Only one aspect ratio of 16:9 is used in the demos. You can add your own or use classes provide by frameworks such as Bootstrap.</p>

<pre><code>&lt;div class="responsive-video-poster responsive-video-poster--16by9"&gt;
                
  &lt;button class="video-overlay" aria-label="Play video"&gt;
    &lt;div class="poster-btn"&gt;&lt;span class="poster-btn-icon"&gt;▶&lt;/span&gt;&lt;/div&gt;

    &lt;img srcset="images/720/image.jpg 720w, images/1080/image.jpg 1080w" src="images/1080/image.jpg" class="poster"&gt;
  &lt;/button&gt;

  &lt;video src="videos/video.mp4" preload="metadata" class="video" controls&gt;&lt;/video&gt;

&lt;/div&gt;
</code></pre>


          <h3>Bootstrap Example</h3>

<pre><code>&lt;div class="responsive-video-poster embed-responsive embed-responsive-16by9"&gt;
                
  &lt;button class="video-overlay embed-responsive-item" aria-label="Play video"&gt;
    &lt;div class="poster-btn"&gt;&lt;span class="poster-btn-icon"&gt;▶&lt;/span&gt;&lt;/div&gt;

    &lt;img srcset="images/720/image.jpg 720w, images/1080/image.jpg 1080w" src="images/1080/image.jpg" class="poster img-fluid"&gt;
  &lt;/button&gt;

  &lt;video src="videos/video.mp4" preload="metadata" class="video embed-responsive-item" controls&gt;&lt;/video&gt;

&lt;/div&gt;
</code></pre>

        </div>


        <div class="subsection">
          <h2>Video loading optimizations</h2>

          <p>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video" target="_blank" rel="noopener">video element</a> includes preload="metadata" and the embedded video includes an <a href="https://dev.to/haggen/lazy-load-embedded-youtube-videos-520g" target="_blank" rel="noopener">srcdoc=""</a> so the video is not loaded until the user interacts with it. This will slow the loading of embedded videos which is partially addressed by the built in embedPreload in the options. Both can be removed if not needed. The plugin should also work normally with lazy load plugins.</p>
        </div>


        <div class="subsection">
          <h2>Events</h2>

          <p>A 'playVideo' event is started once a user clicks the video overlay. The event is ended once the overlay has become inactive and the video starts playing.</p>

<pre><code>document.querySelector('#responsive-video-poster--demo-default').addEventListener('playVideo', (event) => { 
  console.log(`Action: ${event.detail.action}`);
});
</code></pre>
        </div>


        <div class="subsection">
          <h2>Compatibility</h2>

          <p>Supports all modern browsers(Firefox, Chrome, Safari and Edge) released as of April 2020.</p>
        </div>

        <div class="subsection">
          <h2>Demo site</h2>
          <p>Clone or download from Github.</p>

<pre><code>$ npm install
$ gulp serve
</code></pre>

        </div>

        <div class="subsection">
          <h3>Credits</h3>
          Covverr videos of <a href="https://coverr.co/videos/lago-di-braies-y1yBShzUTZ" target="_blank" rel="noopener">Lago di braies</a> and <a href="https://coverr.co/videos/lofoten-rocks-GPfWh8WOtG" target="_blank" rel="noopener">Lofoten rocks</a>. Youtube video of <a href="https://www.youtube.com/watch?v=FjPvaGt6Pw4" target="_blank" rel="noopener">Tustan Karpaty mountains</a>.<br>
          <a href="https://dev.to/haggen/lazy-load-embedded-youtube-videos-520g" target="_blank" rel="noopener">Lazy loading of an embedded video</a> by Arthur Corenzan. 
        </div>

      </div>
    </div>


    <footer class="fullwidth fullwidth--sm footer">
      <div class="container">
        Made by Nigel O Toole - <a href="http://www.purestructure.com" target="_blank" rel="noopener">pure structure</a>
      </div>
    </footer>


    <script src="scripts/main.js" type="module"></script>

  </body>
</html>
